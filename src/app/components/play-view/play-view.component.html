<div class="container-fluid text-center pt-4 pb-4" style="min-width: 360px; max-width: 550px; ">
    <div class="table-responsive mx-5 board-div">
        <!-- Secret Combination -->
        <div class="row mx-auto py-2" style="border-bottom: 2px solid black;">
            <div [ngClass]="this.getSecretCombination()[0]" class="mx-auto"></div>
            <div [ngClass]="this.getSecretCombination()[1]" class="mx-auto"></div>
            <div [ngClass]="this.getSecretCombination()[2]" class="mx-auto"></div>
            <div [ngClass]="this.getSecretCombination()[3]" class="mx-auto"></div>
            <button type="button" class="btn-close" aria-label="Close" style="width: 40px;" data-bs-toggle="modal"
            data-bs-target="#saveModal"></button>
            <!-- <button type="button" class="btn-close" aria-label="Close" style="width: 40px;" (click)="showFinishDialog()"></button> -->
        </div>
        <!-- Board -->
        <table class="table table-borderless" style="margin-bottom: 0;">
            <tbody *ngFor="let result of results">
                <tr>
                    <td class="align-middle" *ngFor="let color of result.getProposedCombination()"
                        style="max-width: 30px;">
                        <div>
                            <div [ngClass]="color" class="mx-auto"></div>
                        </div>
                    </td>
                    <td style="width: 50px;">
                        <div style="display: flex; align-items: center; justify-content: center; height: 15px;">
                            <div [ngClass]="result.getCombinationResult()[0]" class="mx-auto"></div>
                            <div [ngClass]="result.getCombinationResult()[1]" class="mx-auto"></div>
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center; height: 15px;">
                            <div [ngClass]="result.getCombinationResult()[2]" class="mx-auto"></div>
                            <div [ngClass]="result.getCombinationResult()[3]" class="mx-auto"></div>
                        </div>
                </tr>
            </tbody>
        </table>
        <!-- Undo/Redo -->
        <div class="text-center mx-auto p-2" style="border-top: 2px solid black;">
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-outline-dark btn-sm" (click)="undo()">
                    <img src="../assets/drawable/undo.svg" class="img-fluid mx-auto d-block p-1" alt="undo">
                </button>
                <button type="button" class="btn btn-outline-dark btn-sm" (click)="redo()">
                    <img src="../assets/drawable/redo.svg" class="img-fluid mx-auto d-block p-1" alt="redo">
                </button>
            </div>
        </div>
    </div>
    <!-- Combination Picker -->
    <app-combination-picker></app-combination-picker>
</div>


<!-- Finish Modal -->
<div id="isFinishedModal" class="modal fade" tabindex="-1" aria-labelledby="isFinishedModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="p-3">
                <h1 class="modal-title fs-5" id="isFinishedModalLabel">{{finishMessages()}}</h1>
            </div>
            <div class="modal-body">
                    Quieres salir?
            </div>
            <div class="p-2 text-end">
                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#saveModal">Yes</button>
                <button type="button" class="btn" data-bs-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>


<!--Save Modal -->
<div id="saveModal" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="saveModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
                <!-- <h1 class="modal-title fs-5" id="saveModalLabel">{{finishMessages()}}</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
            <div class="modal-body">
                <p  style="font-size: large;">
                    Quieres guardar?
                </p>
            </div>
            <div class="p-2 text-end">
                <button type="button" class="btn" (click)="save()" data-bs-dismiss="modal">Yes</button>
                <button type="button" class="btn"  data-bs-dismiss="modal" (click)="resume()">No</button>
            </div>
        </div>
    </div>
</div>